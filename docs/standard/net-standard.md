---
title: .NET Standard
description: 了解 .NET Standard、其版本及支援的 .NET 實作。
author: mairaw
ms.author: mairaw
ms.date: 08/30/2019
ms.technology: dotnet-standard
ms.assetid: c044882c-af15-45f2-96d1-534557a5ee9b
ms.openlocfilehash: f479bbec504a965fde08af6d000d4be75ca85f8d
ms.sourcegitcommit: 2d792961ed48f235cf413d6031576373c3050918
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/31/2019
ms.locfileid: "70205598"
---
# <a name="net-standard"></a><span data-ttu-id="d0aed-103">.NET Standard</span><span class="sxs-lookup"><span data-stu-id="d0aed-103">.NET Standard</span></span>

<span data-ttu-id="d0aed-104">[.NET Standard](https://github.com/dotnet/standard) 是計劃在所有 .NET 實作提供的 .NET API 型式規格。</span><span class="sxs-lookup"><span data-stu-id="d0aed-104">The [.NET Standard](https://github.com/dotnet/standard) is a formal specification of .NET APIs that are intended to be available on all .NET implementations.</span></span> <span data-ttu-id="d0aed-105">.NET Standard 背後的動機是在 .NET 生態系統中建立更高的一致性。</span><span class="sxs-lookup"><span data-stu-id="d0aed-105">The motivation behind the .NET Standard is establishing greater uniformity in the .NET ecosystem.</span></span> <span data-ttu-id="d0aed-106">[ECMA 335](https://github.com/dotnet/coreclr/blob/master/Documentation/project-docs/dotnet-standards.md) 會繼續建立 .NET 實作行為的一致性，但對 .NET 程式庫實作之 .NET Base 類別庫 (BCL) 沒有類似規格。</span><span class="sxs-lookup"><span data-stu-id="d0aed-106">[ECMA 335](https://github.com/dotnet/coreclr/blob/master/Documentation/project-docs/dotnet-standards.md) continues to establish uniformity for .NET implementation behavior, but there's no similar spec for the .NET Base Class Libraries (BCL) for .NET library implementations.</span></span>

<span data-ttu-id="d0aed-107">.NET Standard 支援下列重要案例：</span><span class="sxs-lookup"><span data-stu-id="d0aed-107">The .NET Standard enables the following key scenarios:</span></span>

- <span data-ttu-id="d0aed-108">定義一致的 BCL API 集合，以供所有 .NET 實作來實作，而不論工作負載為何。</span><span class="sxs-lookup"><span data-stu-id="d0aed-108">Defines uniform set of BCL APIs for all .NET implementations to implement, independent of workload.</span></span>
- <span data-ttu-id="d0aed-109">可讓開發人員使用這組相同的 API，產生可跨 .NET 實作使用的可攜式程式庫。</span><span class="sxs-lookup"><span data-stu-id="d0aed-109">Enables developers to produce portable libraries that are usable across .NET implementations, using this same set of APIs.</span></span>
- <span data-ttu-id="d0aed-110">減少或甚至排除因 .NET API 而必須對共用原始檔進行的條件式編譯，僅適用於 OS API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-110">Reduces or even eliminates conditional compilation of shared source due to .NET APIs, only for OS APIs.</span></span>

<span data-ttu-id="d0aed-111">不同的 .NET 實作會以特定版本的 .NET Standard 為目標。</span><span class="sxs-lookup"><span data-stu-id="d0aed-111">The various .NET implementations target specific versions of .NET Standard.</span></span> <span data-ttu-id="d0aed-112">每個 .NET 實作版本會宣佈它所支援的最高 .NET Standard 版本，此聲明表示它也會支援舊版。</span><span class="sxs-lookup"><span data-stu-id="d0aed-112">Each .NET implementation version advertises the highest .NET Standard version it supports, a statement that means it also supports previous versions.</span></span> <span data-ttu-id="d0aed-113">例如，.NET Framework 4.6 會實作 .NET Standard 1.3，這意謂著它會公開 .NET Standard 1.0 到 1.3 版中定義的所有 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-113">For example, the .NET Framework 4.6 implements .NET Standard 1.3, which means that it exposes all APIs defined in .NET Standard versions 1.0 through 1.3.</span></span> <span data-ttu-id="d0aed-114">同樣地，.NET Framework 4.6.1 會實作 .NET Standard 1.4，而 .NET Core 1.0 會實作 .NET Standard 1.6。</span><span class="sxs-lookup"><span data-stu-id="d0aed-114">Similarly, the .NET Framework 4.6.1 implements .NET Standard 1.4, while .NET Core 1.0 implements .NET Standard 1.6.</span></span>

## <a name="net-implementation-support"></a><span data-ttu-id="d0aed-115">.NET 實作支援</span><span class="sxs-lookup"><span data-stu-id="d0aed-115">.NET implementation support</span></span>

<span data-ttu-id="d0aed-116">下表列出支援每個 .NET Standard 版本的**最低**平台版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-116">The following table lists the **minimum** platform versions that support each .NET Standard version.</span></span> <span data-ttu-id="d0aed-117">這表示所列出平台的更新版本也支援所對應 .NET Standard 版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-117">That means that later versions of a listed platform also support the corresponding .NET Standard version.</span></span> <span data-ttu-id="d0aed-118">例如，.NET Core 2.2 支援 .NET Standard 2.0 及更早版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-118">For example, .NET Core 2.2 supports .NET Standard 2.0 and earlier.</span></span>

[!INCLUDE [net-standard-table](../../includes/net-standard-table.md)]

<span data-ttu-id="d0aed-119">若要尋找可作為您目標的最新版 .NET Standard，請執行下列步驟：</span><span class="sxs-lookup"><span data-stu-id="d0aed-119">To find the highest version of .NET Standard that you can target, do the following steps:</span></span>

1. <span data-ttu-id="d0aed-120">尋找指出要作為您執行位置之 .NET 實作的資料列。</span><span class="sxs-lookup"><span data-stu-id="d0aed-120">Find the row that indicates the .NET implementation you want to run on.</span></span>
2. <span data-ttu-id="d0aed-121">在該資料列中，由左到右尋找指出您版本的資料行。</span><span class="sxs-lookup"><span data-stu-id="d0aed-121">Find the column in that row that indicates your version starting from right to left.</span></span>
3. <span data-ttu-id="d0aed-122">資料行標題會指出您目標所支援的 .NET Standard 版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-122">The column header indicates the .NET Standard version that your target supports.</span></span> <span data-ttu-id="d0aed-123">您也可以將目標設為任何較低的 .NET Standard 版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-123">You may also target any lower .NET Standard version.</span></span> <span data-ttu-id="d0aed-124">較高的 .NET Standard 版本也會支援您的實作。</span><span class="sxs-lookup"><span data-stu-id="d0aed-124">Higher .NET Standard versions will also support your implementation.</span></span>
4. <span data-ttu-id="d0aed-125">針對您想要作為目標的每個平台重複此程序。</span><span class="sxs-lookup"><span data-stu-id="d0aed-125">Repeat this process for each platform you want to target.</span></span> <span data-ttu-id="d0aed-126">如果您有多個目標平台，應該從中挑選最舊的版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-126">If you have more than one target platform, you should pick the smaller version among them.</span></span> <span data-ttu-id="d0aed-127">例如，如果您想要在 .NET Framework 4.5 和 .NET Core 1.0 上執行，則可以使用的最新 .NET Standard 版本是 .NET Standard 1.1。</span><span class="sxs-lookup"><span data-stu-id="d0aed-127">For example, if you want to run on .NET Framework 4.5 and .NET Core 1.0, the highest .NET Standard version you can use is .NET Standard 1.1.</span></span>

### <a name="which-net-standard-version-to-target"></a><span data-ttu-id="d0aed-128">要以哪個 .NET Standard 版本作為目標</span><span class="sxs-lookup"><span data-stu-id="d0aed-128">Which .NET Standard version to target</span></span>

<span data-ttu-id="d0aed-129">選擇 .NET Standard 版本時，您應該考量下列取捨：</span><span class="sxs-lookup"><span data-stu-id="d0aed-129">When choosing a .NET Standard version, you should consider this trade-off:</span></span>

- <span data-ttu-id="d0aed-130">版本越新，可供您使用的 API 就越多。</span><span class="sxs-lookup"><span data-stu-id="d0aed-130">The higher the version, the more APIs are available to you.</span></span>
- <span data-ttu-id="d0aed-131">版本越舊，可實作它的平台就越多。</span><span class="sxs-lookup"><span data-stu-id="d0aed-131">The lower the version, the more platforms implement it.</span></span>

<span data-ttu-id="d0aed-132">一般而言，建議您儘可能以「最舊的」  .NET Standard 版本為目標。</span><span class="sxs-lookup"><span data-stu-id="d0aed-132">In general, we recommend you to target the *lowest* version of .NET Standard possible.</span></span> <span data-ttu-id="d0aed-133">因此，在您找到可作為目標的最新 .NET Standard 版本之後，請依照下列步驟操作：</span><span class="sxs-lookup"><span data-stu-id="d0aed-133">So, after you find the highest .NET Standard version you can target, follow these steps:</span></span>

1. <span data-ttu-id="d0aed-134">以次舊的 .NET Standard 版本為目標並建置您的專案。</span><span class="sxs-lookup"><span data-stu-id="d0aed-134">Target the next lower version of .NET Standard and build your project.</span></span>
2. <span data-ttu-id="d0aed-135">如果您的專案建置成功，便重複步驟 1。</span><span class="sxs-lookup"><span data-stu-id="d0aed-135">If your project builds successfully, repeat step 1.</span></span> <span data-ttu-id="d0aed-136">否則，請將目標重新設定為次新版本，這會是您應該使用的版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-136">Otherwise, retarget to the next higher version and that's the version you should use.</span></span>

<span data-ttu-id="d0aed-137">不過，以較低的 .NET Standard 版本作為目標會產生數個支援相依性。</span><span class="sxs-lookup"><span data-stu-id="d0aed-137">However, targeting lower .NET Standard versions introduces a number of support dependencies.</span></span> <span data-ttu-id="d0aed-138">如果您的專案是以 .NET Standard 1.x 為目標，我們建議*同時*以 .NET Standard 2.0 作為目標。</span><span class="sxs-lookup"><span data-stu-id="d0aed-138">If your project targets .NET Standard 1.x, we recommend that you *also* target .NET Standard 2.0.</span></span> <span data-ttu-id="d0aed-139">這能為使用您的程式庫並執行與 .NET Standard 2.0 相容之架構的使用者簡化相依性關係圖，也能減少他們所需下載的套件數目。</span><span class="sxs-lookup"><span data-stu-id="d0aed-139">This simplifies the dependency graph for users of your library that run on .NET Standard 2.0 compatible frameworks, and it reduces the number of packages they need to download.</span></span>

### <a name="net-standard-versioning-rules"></a><span data-ttu-id="d0aed-140">.NET Standard 版本控制規則</span><span class="sxs-lookup"><span data-stu-id="d0aed-140">.NET Standard versioning rules</span></span>

<span data-ttu-id="d0aed-141">有兩個主要的版本控制規則：</span><span class="sxs-lookup"><span data-stu-id="d0aed-141">There are two primary versioning rules:</span></span>

- <span data-ttu-id="d0aed-142">累加：.NET Standard 版本就邏輯而言是同心圓：較新的版本會包含來自較舊版本的所有 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-142">Additive: .NET Standard versions are logically concentric circles: higher versions incorporate all APIs from previous versions.</span></span> <span data-ttu-id="d0aed-143">版本之間並沒有任何重大變更。</span><span class="sxs-lookup"><span data-stu-id="d0aed-143">There are no breaking changes between versions.</span></span>
- <span data-ttu-id="d0aed-144">固定：.NET Standard 在交付後，版本便已凍結。</span><span class="sxs-lookup"><span data-stu-id="d0aed-144">Immutable: Once shipped, .NET Standard versions are frozen.</span></span> <span data-ttu-id="d0aed-145">新的 API 將先在特定的 .NET 實作 (例如 .NET Core) 中提供。</span><span class="sxs-lookup"><span data-stu-id="d0aed-145">New APIs first become available in specific .NET implementations, such as .NET Core.</span></span> <span data-ttu-id="d0aed-146">如果 .NET Standard 審查委員會認為應該為所有 .NET 實作，提供新的 API，即會在新的 .NET Standard 版本中加入這些 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-146">If the .NET Standard review board believes the new APIs should be available for all .NET implementations, they're added in a new .NET Standard version.</span></span>

## <a name="specification"></a><span data-ttu-id="d0aed-147">規格</span><span class="sxs-lookup"><span data-stu-id="d0aed-147">Specification</span></span>

<span data-ttu-id="d0aed-148">.NET Standard 規格是一組標準化的 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-148">The .NET Standard specification is a standardized set of APIs.</span></span> <span data-ttu-id="d0aed-149">此規格由 .NET 實作人員維護，具體而言即為 Microsoft (包括 .NET Framework、.NET Core 與 Mono) 和 Unity。</span><span class="sxs-lookup"><span data-stu-id="d0aed-149">The specification is maintained by .NET implementors, specifically Microsoft (includes .NET Framework, .NET Core, and Mono) and Unity.</span></span> <span data-ttu-id="d0aed-150">透過 [GitHub](https://github.com/dotnet/standard) 建立新的 .NET Standard 版本時，會使用公開回饋程序。</span><span class="sxs-lookup"><span data-stu-id="d0aed-150">A public feedback process is used as part of establishing new .NET Standard versions through [GitHub](https://github.com/dotnet/standard).</span></span>

### <a name="official-artifacts"></a><span data-ttu-id="d0aed-151">正式成品</span><span class="sxs-lookup"><span data-stu-id="d0aed-151">Official artifacts</span></span>

<span data-ttu-id="d0aed-152">正式規格是一組定義 API 的 .cs 檔案，這些 API 是標準的一部分。</span><span class="sxs-lookup"><span data-stu-id="d0aed-152">The official specification is a set of .cs files that define the APIs that are part of the standard.</span></span> <span data-ttu-id="d0aed-153">[dotnet/standard 存放庫](https://github.com/dotnet/standard)中的 [ref 目錄](https://github.com/dotnet/standard/tree/master/src/netstandard/ref)定義 .NET Standard API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-153">The [ref directory](https://github.com/dotnet/standard/tree/master/src/netstandard/ref) in the [dotnet/standard repository](https://github.com/dotnet/standard) defines the .NET Standard APIs.</span></span>

<span data-ttu-id="d0aed-154">[NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library) 中繼套件 ([原始檔](https://github.com/dotnet/standard/blob/master/src/netstandard/pkg/NETStandard.Library.dependencies.props)) 描述定義 (部分) 一或多個 .NET Standard 版本的程式庫集合。</span><span class="sxs-lookup"><span data-stu-id="d0aed-154">The [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library) metapackage ([source](https://github.com/dotnet/standard/blob/master/src/netstandard/pkg/NETStandard.Library.dependencies.props)) describes the set of libraries that define (in part) one or more .NET Standard versions.</span></span>

<span data-ttu-id="d0aed-155">像是 `System.Runtime` 等指定的元件，其描述：</span><span class="sxs-lookup"><span data-stu-id="d0aed-155">A given component, like `System.Runtime`, describes:</span></span>

- <span data-ttu-id="d0aed-156">.NET Standard 的組件 (僅限其範圍)。</span><span class="sxs-lookup"><span data-stu-id="d0aed-156">Part of .NET Standard (just its scope).</span></span>
- <span data-ttu-id="d0aed-157">適用於該範圍的多個 .NET Standard 版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-157">Multiple versions of .NET Standard, for that scope.</span></span>

<span data-ttu-id="d0aed-158">為了更方便閱讀及支援特定開發人員案例 (例如使用編譯器)，已提供衍生成品。</span><span class="sxs-lookup"><span data-stu-id="d0aed-158">Derivative artifacts are provided to enable more convenient reading and to enable certain developer scenarios (for example, using a compiler).</span></span>

- [<span data-ttu-id="d0aed-159">Markdown 中的 API 清單</span><span class="sxs-lookup"><span data-stu-id="d0aed-159">API list in markdown</span></span>](https://github.com/dotnet/standard/tree/master/docs/versions)
- <span data-ttu-id="d0aed-160">以 [NuGet 套件](../core/packages.md)散發並由 [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library/) 中繼套件參考的參考組件。</span><span class="sxs-lookup"><span data-stu-id="d0aed-160">Reference assemblies, distributed as [NuGet packages](../core/packages.md) and referenced by the [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library/) metapackage.</span></span>

### <a name="package-representation"></a><span data-ttu-id="d0aed-161">封裝表示</span><span class="sxs-lookup"><span data-stu-id="d0aed-161">Package representation</span></span>

<span data-ttu-id="d0aed-162">.NET Standard 參考組件的主要散發工具是 [NuGet 套件](../core/packages.md)。</span><span class="sxs-lookup"><span data-stu-id="d0aed-162">The primary distribution vehicle for the .NET Standard reference assemblies is [NuGet packages](../core/packages.md).</span></span> <span data-ttu-id="d0aed-163">傳遞實作的方法有許多種，各自適合每種 .NET 實作。</span><span class="sxs-lookup"><span data-stu-id="d0aed-163">Implementations are delivered in a variety of ways, appropriate for each .NET implementation.</span></span>

<span data-ttu-id="d0aed-164">NuGet 套件是以一個或多個[架構](frameworks.md)為目標。</span><span class="sxs-lookup"><span data-stu-id="d0aed-164">NuGet packages target one or more [frameworks](frameworks.md).</span></span> <span data-ttu-id="d0aed-165">.NET Standard 套件是以 ".NET Standard" 架構為目標。</span><span class="sxs-lookup"><span data-stu-id="d0aed-165">The .NET Standard packages target the ".NET Standard" framework.</span></span> <span data-ttu-id="d0aed-166">您可使用 `netstandard` [壓縮 TFM](frameworks.md) (例如，`netstandard1.4`)，以 .NET Standard 架構為目標。</span><span class="sxs-lookup"><span data-stu-id="d0aed-166">You can target the .NET Standard framework using the `netstandard` [compact TFM](frameworks.md) (for example, `netstandard1.4`).</span></span> <span data-ttu-id="d0aed-167">要在多個執行階段上執行的程式庫應以此架構為目標。</span><span class="sxs-lookup"><span data-stu-id="d0aed-167">Libraries that are intended to run on multiple runtimes should target this framework.</span></span> <span data-ttu-id="d0aed-168">對大多數的 API 來說，會以 `netstandard2.0` 為目標，因為提供的 API 數目，超過 .NET Standard 1.6 與 2.0 之間的一倍。</span><span class="sxs-lookup"><span data-stu-id="d0aed-168">For the broadest set of APIs, target `netstandard2.0` since the number of available APIs more than doubled between .NET Standard 1.6 and 2.0.</span></span>

<span data-ttu-id="d0aed-169">[`NETStandard.Library`](https://www.nuget.org/packages/NETStandard.Library/) 中繼套件會參考定 .NET Standard 的完整一組 NuGet 套件。</span><span class="sxs-lookup"><span data-stu-id="d0aed-169">The [`NETStandard.Library`](https://www.nuget.org/packages/NETStandard.Library/) metapackage references the complete set of NuGet packages that define .NET Standard.</span></span>  <span data-ttu-id="d0aed-170">若要將 `netstandard` 設為目標，最常見方式是參考這個中繼套件。</span><span class="sxs-lookup"><span data-stu-id="d0aed-170">The most common way to target `netstandard` is by referencing this metapackage.</span></span> <span data-ttu-id="d0aed-171">它描述大約 40 種定義 .NET Standard 的 .NET 程式庫和相關 API，並提供其存取權。</span><span class="sxs-lookup"><span data-stu-id="d0aed-171">It describes and provides access to the ~40 .NET libraries and associated APIs that define .NET Standard.</span></span> <span data-ttu-id="d0aed-172">您可以參考目標為 `netstandard` 的其他套件，以存取其他 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-172">You can reference additional packages that target `netstandard` to get access to additional APIs.</span></span>

### <a name="versioning"></a><span data-ttu-id="d0aed-173">版本控制</span><span class="sxs-lookup"><span data-stu-id="d0aed-173">Versioning</span></span>

<span data-ttu-id="d0aed-174">此規格不是單一的，而是一組以累加方式擴充並以線性方式控制版本的 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-174">The specification is not singular, but an incrementally growing and linearly versioned set of APIs.</span></span> <span data-ttu-id="d0aed-175">此標準的第一個版本會建立一組基準 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-175">The first version of the standard establishes a baseline set of APIs.</span></span> <span data-ttu-id="d0aed-176">後續版本會新增 API，並繼承舊版所定義的 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-176">Subsequent versions add APIs and inherit APIs defined by previous versions.</span></span> <span data-ttu-id="d0aed-177">沒有任何既定的佈建可從標準中移除 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-177">There is no established provision for removing APIs from the standard.</span></span>

<span data-ttu-id="d0aed-178">.NET Standard 並非專屬於任何一個 .NET 實作，也不符合任何這些執行階段的版本配置。</span><span class="sxs-lookup"><span data-stu-id="d0aed-178">.NET Standard is not specific to any one .NET implementation, nor does it match the versioning scheme of any of those runtimes.</span></span>

<span data-ttu-id="d0aed-179">新增至任何實作 (例如 .NET Framework、.NET Core 和 Mono) 的 API 都可視為要新增至規格的候選項目，尤其是如果本質上要作為基礎的 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-179">APIs added to any of the implementations (such as, .NET Framework, .NET Core and Mono) can be considered as candidates to add to the specification, particularly if they are thought to be fundamental in nature.</span></span> <span data-ttu-id="d0aed-180">新的 [.NET Standard 版本](https://github.com/dotnet/standard/blob/master/docs/versions.md)是根據 .NET 實作版本所建立，可讓您以來自 .NET Standard PCL 的新 API 為目標。</span><span class="sxs-lookup"><span data-stu-id="d0aed-180">New [versions of .NET Standard](https://github.com/dotnet/standard/blob/master/docs/versions.md) are created based on .NET implementation releases, enabling you to target new APIs from a .NET Standard PCL.</span></span> <span data-ttu-id="d0aed-181">如需版本控制機制的詳細資訊，請參閱 [.NET Core 版本控制](../core/versions/index.md)。</span><span class="sxs-lookup"><span data-stu-id="d0aed-181">The versioning mechanics are described in more detail in [.NET Core Versioning](../core/versions/index.md).</span></span>

<span data-ttu-id="d0aed-182">.NET Standard 版本控制對於使用至關重要。</span><span class="sxs-lookup"><span data-stu-id="d0aed-182">.NET Standard versioning is important for usage.</span></span> <span data-ttu-id="d0aed-183">指定 .NET Standard 版本之後，您可以使用以相同版本或更舊版本為目標的程式庫。</span><span class="sxs-lookup"><span data-stu-id="d0aed-183">Given a .NET Standard version, you can use libraries that target that same or lower version.</span></span> <span data-ttu-id="d0aed-184">下列方法描述使用 .NET Standard PCL (專門用於 .NET Standard 目標設定) 的工作流程。</span><span class="sxs-lookup"><span data-stu-id="d0aed-184">The following approach describes the workflow for using .NET Standard PCLs, specific to .NET Standard targeting.</span></span>

- <span data-ttu-id="d0aed-185">選取要用於 PCL 的 .NET Standard 版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-185">Select a .NET Standard version to use for your PCL.</span></span>
- <span data-ttu-id="d0aed-186">使用相依於相同 .NET Standard 版本或更舊版本的程式庫。</span><span class="sxs-lookup"><span data-stu-id="d0aed-186">Use libraries that depend on the same .NET Standard version or lower.</span></span>
- <span data-ttu-id="d0aed-187">如果您發現有程式庫相依於更新的 .NET Standard 版本，就需要採用該相同的版本，或決定不要使用該程式庫。</span><span class="sxs-lookup"><span data-stu-id="d0aed-187">If you find a library that depends on a higher .NET Standard version, you either need to adopt that same version or decide not to use that library.</span></span>

## <a name="targeting-net-standard"></a><span data-ttu-id="d0aed-188">以 .NET Standard 為目標</span><span class="sxs-lookup"><span data-stu-id="d0aed-188">Targeting .NET Standard</span></span>

<span data-ttu-id="d0aed-189">您可以搭配使用 `netstandard` 架構和 NETStandard.Library 中繼套件，來[建置 .NET Standard 程式庫](../core/tutorials/libraries.md)。</span><span class="sxs-lookup"><span data-stu-id="d0aed-189">You can [build .NET Standard Libraries](../core/tutorials/libraries.md) using a combination of the `netstandard` framework and the NETStandard.Library metapackage.</span></span> <span data-ttu-id="d0aed-190">您可以查看[使用 .NET Core 工具將 .NET Standard 設為目標](../core/packages.md)的範例。</span><span class="sxs-lookup"><span data-stu-id="d0aed-190">You can see examples of [targeting the .NET Standard with .NET Core tools](../core/packages.md).</span></span>

## <a name="net-framework-compatibility-mode"></a><span data-ttu-id="d0aed-191">.NET Framework 相容性模式</span><span class="sxs-lookup"><span data-stu-id="d0aed-191">.NET Framework compatibility mode</span></span>

<span data-ttu-id="d0aed-192">從 .NET Standard 2.0 開始，引進了 .NET Framework 相容性模式。</span><span class="sxs-lookup"><span data-stu-id="d0aed-192">Starting with .NET Standard 2.0, the .NET Framework compatibility mode was introduced.</span></span> <span data-ttu-id="d0aed-193">此相容性模式可讓 .NET Standard 專案可參考 .NET Framework 程式庫，就如同是為 .NET Standard 編譯一般。</span><span class="sxs-lookup"><span data-stu-id="d0aed-193">This compatibility mode allows .NET Standard projects to reference .NET Framework libraries as if they were compiled for .NET Standard.</span></span> <span data-ttu-id="d0aed-194">並非所有專案都適合參考 .NET Framework 程式庫。例如，像是使用 Windows Presentation Foundation (WPF) API 的程式庫。</span><span class="sxs-lookup"><span data-stu-id="d0aed-194">Referencing .NET Framework libraries doesn't work for all projects, such as libraries that use Windows Presentation Foundation (WPF) APIs.</span></span>

<span data-ttu-id="d0aed-195">如需詳細資訊，請參閱 [.NET Framework 相容模式](../core/porting/third-party-deps.md#net-framework-compatibility-mode)。</span><span class="sxs-lookup"><span data-stu-id="d0aed-195">For more information, see [.NET Framework compatibility mode](../core/porting/third-party-deps.md#net-framework-compatibility-mode).</span></span>

## <a name="net-standard-libraries-and-visual-studio"></a><span data-ttu-id="d0aed-196">.NET Standard 程式庫與 Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d0aed-196">.NET Standard libraries and Visual Studio</span></span>

<span data-ttu-id="d0aed-197">若要在 Visual Studio 中建置 .NET Standard 程式庫，請確定您已在 Windows 上安裝了 [Visual Studio 2017 版本 15.3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2017) 或是更新版本，或是已在 macOS 上安裝了 [Visual Studio for Mac 版本 7.1](https://visualstudio.microsoft.com/vs/mac/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) 或更新版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-197">In order to build .NET Standard libraries in Visual Studio, make sure you have [Visual Studio 2017 version 15.3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2017) or later installed on Windows, or [Visual Studio for Mac version 7.1](https://visualstudio.microsoft.com/vs/mac/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) or later installed on macOS.</span></span>

<span data-ttu-id="d0aed-198">若在您專案中只需要使用 .NET Standard 2.0 程式庫，也可於 Visual Studio 2015 中執行。</span><span class="sxs-lookup"><span data-stu-id="d0aed-198">If you only need to consume .NET Standard 2.0 libraries in your projects, you can also do that in Visual Studio 2015.</span></span> <span data-ttu-id="d0aed-199">但需要安裝 NuGet 用戶端 3.6 或更新版本。</span><span class="sxs-lookup"><span data-stu-id="d0aed-199">However, you need NuGet client 3.6 or higher installed.</span></span> <span data-ttu-id="d0aed-200">您可從 [NuGet下載](https://www.nuget.org/downloads)頁面，下載 Visual Studio 2015 的 NuGet 用戶端。</span><span class="sxs-lookup"><span data-stu-id="d0aed-200">You can download the NuGet client for Visual Studio 2015 from the [NuGet downloads](https://www.nuget.org/downloads) page.</span></span>

## <a name="comparison-to-portable-class-libraries"></a><span data-ttu-id="d0aed-201">與可攜式類別庫的比較</span><span class="sxs-lookup"><span data-stu-id="d0aed-201">Comparison to Portable Class Libraries</span></span>

<span data-ttu-id="d0aed-202">.NET Standard 會取代[可攜式類別庫 (PCL)](./cross-platform/cross-platform-development-with-the-portable-class-library.md)。</span><span class="sxs-lookup"><span data-stu-id="d0aed-202">.NET Standard is the replacement for [Portable Class Libraries (PCL)](./cross-platform/cross-platform-development-with-the-portable-class-library.md).</span></span> <span data-ttu-id="d0aed-203">.NET Standard 可透過策劃標準 BCL，進而在 .NET 實作之間建立更高的一致性，來改善建立可攜式程式庫的體驗。</span><span class="sxs-lookup"><span data-stu-id="d0aed-203">The .NET Standard improves on the experience of creating portable libraries by curating a standard BCL and establishing greater uniformity across .NET implementations as a result.</span></span> <span data-ttu-id="d0aed-204">以 .NET Standard 為目標的程式庫是 PCL 或「.NET Standard 型 PCL」。</span><span class="sxs-lookup"><span data-stu-id="d0aed-204">A library that targets .NET Standard is a PCL or a ".NET Standard-based PCL".</span></span> <span data-ttu-id="d0aed-205">現有的 PCL 是「設定檔型 PCL」。</span><span class="sxs-lookup"><span data-stu-id="d0aed-205">Existing PCLs are "profile-based PCLs".</span></span>

<span data-ttu-id="d0aed-206">.NET Standard 和 PCL 設定檔是為了類似的目的而建立，但也有幾點重要的不同之處。</span><span class="sxs-lookup"><span data-stu-id="d0aed-206">.NET Standard and PCL profiles were created for similar purposes but also differ in key ways.</span></span>

<span data-ttu-id="d0aed-207">相似之處：</span><span class="sxs-lookup"><span data-stu-id="d0aed-207">Similarities:</span></span>

- <span data-ttu-id="d0aed-208">定義可用於二進位程式碼共用的 API。</span><span class="sxs-lookup"><span data-stu-id="d0aed-208">Define APIs that can be used for binary code sharing.</span></span>

<span data-ttu-id="d0aed-209">不同之處：</span><span class="sxs-lookup"><span data-stu-id="d0aed-209">Differences:</span></span>

- <span data-ttu-id="d0aed-210">.NET Standard 是一組經過策劃的 API，而 PCL 設定檔則是由現有平台的交集所定義。</span><span class="sxs-lookup"><span data-stu-id="d0aed-210">.NET Standard is a curated set of APIs, while PCL profiles are defined by intersections of existing platforms.</span></span>
- <span data-ttu-id="d0aed-211">.NET Standard 是以線性方式控制版本，而 PCL 設定檔則不是。</span><span class="sxs-lookup"><span data-stu-id="d0aed-211">.NET Standard linearly versions, while PCL profiles do not.</span></span>
- <span data-ttu-id="d0aed-212">PCL 設定檔代表 Microsoft 平台，而 .NET Standard 則代表平台不明。</span><span class="sxs-lookup"><span data-stu-id="d0aed-212">PCL profiles represents Microsoft platforms while the .NET Standard is platform-agnostic.</span></span>

### <a name="pcl-compatibility"></a><span data-ttu-id="d0aed-213">PCL 相容性</span><span class="sxs-lookup"><span data-stu-id="d0aed-213">PCL compatibility</span></span>

<span data-ttu-id="d0aed-214">.NET Standard 與 PCL 設定檔子集相容。</span><span class="sxs-lookup"><span data-stu-id="d0aed-214">.NET Standard is compatible with a subset of PCL profiles.</span></span> <span data-ttu-id="d0aed-215">.NET Standard Library 1.0、1.1 和 1.2 會各自與一組 PCL 設定檔重疊。</span><span class="sxs-lookup"><span data-stu-id="d0aed-215">.NET Standard 1.0, 1.1 and 1.2 each overlap with a set of PCL profiles.</span></span> <span data-ttu-id="d0aed-216">建立此重疊的原因有兩個：</span><span class="sxs-lookup"><span data-stu-id="d0aed-216">This overlap was created for two reasons:</span></span>

- <span data-ttu-id="d0aed-217">可讓 .NET Standard 型 PCL 參考設定檔型 PCL。</span><span class="sxs-lookup"><span data-stu-id="d0aed-217">Enable .NET Standard-based PCLs to reference profile-based PCLs.</span></span>
- <span data-ttu-id="d0aed-218">可將設定檔型 PCL 封裝成 .NET Standard 型 PCL。</span><span class="sxs-lookup"><span data-stu-id="d0aed-218">Enable profile-based PCLs to be packaged as .NET Standard-based PCLs.</span></span>

<span data-ttu-id="d0aed-219">[Microsoft.NETCore.Portable.Compatibility](https://www.nuget.org/packages/Microsoft.NETCore.Portable.Compatibility) NuGet 套件提供設定檔型 PCL 相容性。</span><span class="sxs-lookup"><span data-stu-id="d0aed-219">Profile-based PCL compatibility is provided by the [Microsoft.NETCore.Portable.Compatibility](https://www.nuget.org/packages/Microsoft.NETCore.Portable.Compatibility) NuGet package.</span></span> <span data-ttu-id="d0aed-220">參考包含設定檔型 PCL 的 NuGet 套件時需要此相依性。</span><span class="sxs-lookup"><span data-stu-id="d0aed-220">This dependency is required when referencing NuGet packages that contain profile-based PCLs.</span></span>

<span data-ttu-id="d0aed-221">封裝成 `netstandard` 的設定檔型 PCL，會比一般封裝的設定檔型 PCL 更容易使用。</span><span class="sxs-lookup"><span data-stu-id="d0aed-221">Profile-based PCLs packaged as `netstandard` are easier to consume than typically packaged profile-based PCLs.</span></span> <span data-ttu-id="d0aed-222">現有的使用者可以使用 `netstandard` 封裝。</span><span class="sxs-lookup"><span data-stu-id="d0aed-222">`netstandard` packaging is compatible with existing users.</span></span>

<span data-ttu-id="d0aed-223">您會看到與 .NET Standard 相容的 PCL 設定檔集合：</span><span class="sxs-lookup"><span data-stu-id="d0aed-223">You can see the set of PCL profiles that are compatible with the .NET Standard:</span></span>

| <span data-ttu-id="d0aed-224">PCL 設定檔</span><span class="sxs-lookup"><span data-stu-id="d0aed-224">PCL Profile</span></span> | <span data-ttu-id="d0aed-225">.NET Standard</span><span class="sxs-lookup"><span data-stu-id="d0aed-225">.NET Standard</span></span> | <span data-ttu-id="d0aed-226">PCL 平台</span><span class="sxs-lookup"><span data-stu-id="d0aed-226">PCL Platforms</span></span>
|:-----------:|:-------------:|------------------------------------------------------------------------------
| <span data-ttu-id="d0aed-227">Profile7</span><span class="sxs-lookup"><span data-stu-id="d0aed-227">Profile7</span></span>    | <span data-ttu-id="d0aed-228">1.1</span><span class="sxs-lookup"><span data-stu-id="d0aed-228">1.1</span></span>           | <span data-ttu-id="d0aed-229">.NET Framework 4.5、Windows 8</span><span class="sxs-lookup"><span data-stu-id="d0aed-229">.NET Framework 4.5, Windows 8</span></span>
| <span data-ttu-id="d0aed-230">Profile31</span><span class="sxs-lookup"><span data-stu-id="d0aed-230">Profile31</span></span>   | <span data-ttu-id="d0aed-231">1.0</span><span class="sxs-lookup"><span data-stu-id="d0aed-231">1.0</span></span>           | <span data-ttu-id="d0aed-232">Windows 8.1、Windows Phone Silverlight 8.1</span><span class="sxs-lookup"><span data-stu-id="d0aed-232">Windows 8.1, Windows Phone Silverlight 8.1</span></span>
| <span data-ttu-id="d0aed-233">Profile32</span><span class="sxs-lookup"><span data-stu-id="d0aed-233">Profile32</span></span>   | <span data-ttu-id="d0aed-234">1.2</span><span class="sxs-lookup"><span data-stu-id="d0aed-234">1.2</span></span>           | <span data-ttu-id="d0aed-235">Windows 8.1、Windows Phone 8.1</span><span class="sxs-lookup"><span data-stu-id="d0aed-235">Windows 8.1, Windows Phone 8.1</span></span>
| <span data-ttu-id="d0aed-236">Profile44</span><span class="sxs-lookup"><span data-stu-id="d0aed-236">Profile44</span></span>   | <span data-ttu-id="d0aed-237">1.2</span><span class="sxs-lookup"><span data-stu-id="d0aed-237">1.2</span></span>           | <span data-ttu-id="d0aed-238">.NET Framework 4.5.1、Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="d0aed-238">.NET Framework 4.5.1, Windows 8.1</span></span>
| <span data-ttu-id="d0aed-239">Profile49</span><span class="sxs-lookup"><span data-stu-id="d0aed-239">Profile49</span></span>   | <span data-ttu-id="d0aed-240">1.0</span><span class="sxs-lookup"><span data-stu-id="d0aed-240">1.0</span></span>           | <span data-ttu-id="d0aed-241">.NET Framework 4.5、Windows Phone Silverlight 8</span><span class="sxs-lookup"><span data-stu-id="d0aed-241">.NET Framework 4.5, Windows Phone Silverlight 8</span></span>
| <span data-ttu-id="d0aed-242">Profile78</span><span class="sxs-lookup"><span data-stu-id="d0aed-242">Profile78</span></span>   | <span data-ttu-id="d0aed-243">1.0</span><span class="sxs-lookup"><span data-stu-id="d0aed-243">1.0</span></span>           | <span data-ttu-id="d0aed-244">.NET Framework 4.5、Windows 8, Windows Phone Silverlight 8</span><span class="sxs-lookup"><span data-stu-id="d0aed-244">.NET Framework 4.5, Windows 8, Windows Phone Silverlight 8</span></span>
| <span data-ttu-id="d0aed-245">Profile84</span><span class="sxs-lookup"><span data-stu-id="d0aed-245">Profile84</span></span>   | <span data-ttu-id="d0aed-246">1.0</span><span class="sxs-lookup"><span data-stu-id="d0aed-246">1.0</span></span>           | <span data-ttu-id="d0aed-247">Windows Phone 8.1、Windows Phone Silverlight 8.1</span><span class="sxs-lookup"><span data-stu-id="d0aed-247">Windows Phone 8.1, Windows Phone Silverlight 8.1</span></span>
| <span data-ttu-id="d0aed-248">Profile111</span><span class="sxs-lookup"><span data-stu-id="d0aed-248">Profile111</span></span>  | <span data-ttu-id="d0aed-249">1.1</span><span class="sxs-lookup"><span data-stu-id="d0aed-249">1.1</span></span>           | <span data-ttu-id="d0aed-250">.NET Framework 4.5、Windows 8, Windows Phone 8.1</span><span class="sxs-lookup"><span data-stu-id="d0aed-250">.NET Framework 4.5, Windows 8, Windows Phone 8.1</span></span>
| <span data-ttu-id="d0aed-251">Profile151</span><span class="sxs-lookup"><span data-stu-id="d0aed-251">Profile151</span></span>  | <span data-ttu-id="d0aed-252">1.2</span><span class="sxs-lookup"><span data-stu-id="d0aed-252">1.2</span></span>           | <span data-ttu-id="d0aed-253">.NET Framework 4.5.1、Windows 8.1、Windows Phone 8.1</span><span class="sxs-lookup"><span data-stu-id="d0aed-253">.NET Framework 4.5.1, Windows 8.1, Windows Phone 8.1</span></span>
| <span data-ttu-id="d0aed-254">Profile157</span><span class="sxs-lookup"><span data-stu-id="d0aed-254">Profile157</span></span>  | <span data-ttu-id="d0aed-255">1.0</span><span class="sxs-lookup"><span data-stu-id="d0aed-255">1.0</span></span>           | <span data-ttu-id="d0aed-256">Windows 8.1、Windows Phone 8.1、Windows Phone Silverlight 8.1</span><span class="sxs-lookup"><span data-stu-id="d0aed-256">Windows 8.1, Windows Phone 8.1, Windows Phone Silverlight 8.1</span></span>
| <span data-ttu-id="d0aed-257">Profile259</span><span class="sxs-lookup"><span data-stu-id="d0aed-257">Profile259</span></span>  | <span data-ttu-id="d0aed-258">1.0</span><span class="sxs-lookup"><span data-stu-id="d0aed-258">1.0</span></span>           | <span data-ttu-id="d0aed-259">.NET Framework 4.5、Windows 8、Windows Phone 8.1、Windows Phone Silverlight 8</span><span class="sxs-lookup"><span data-stu-id="d0aed-259">.NET Framework 4.5, Windows 8, Windows Phone 8.1, Windows Phone Silverlight 8</span></span>

## <a name="see-also"></a><span data-ttu-id="d0aed-260">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d0aed-260">See also</span></span>

- [<span data-ttu-id="d0aed-261">.NET Standard 版本</span><span class="sxs-lookup"><span data-stu-id="d0aed-261">.NET Standard Versions</span></span>](https://github.com/dotnet/standard/blob/master/docs/versions.md)
