---
title: "管理資料服務內容 (WCF Data Services)"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 15b19d09-7de7-4638-9556-6ef396cc45ec
caps.latest.revision: "6"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 12a0a0b93bfb944a3032cc171f97f411de5d2aab
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/21/2017
---
# <a name="managing-the-data-service-context-wcf-data-services"></a><span data-ttu-id="1040e-102">管理資料服務內容 (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="1040e-102">Managing the Data Service Context (WCF Data Services)</span></span>
<span data-ttu-id="1040e-103"><xref:System.Data.Services.Client.DataServiceContext> 類別會封裝針對特定資料服務支援的作業。</span><span class="sxs-lookup"><span data-stu-id="1040e-103">The <xref:System.Data.Services.Client.DataServiceContext> class encapsulates operations that are supported against a specified data service.</span></span> <span data-ttu-id="1040e-104">雖然 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 服務沒有狀態，但是內容具有狀態。</span><span class="sxs-lookup"><span data-stu-id="1040e-104">Although [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] services are stateless, the context is not.</span></span> <span data-ttu-id="1040e-105">因此，您可以使用<xref:System.Data.Services.Client.DataServiceContext>類別上的用戶端以支援資料服務互動之間維護狀態的功能變更管理之類。</span><span class="sxs-lookup"><span data-stu-id="1040e-105">Therefore, you can use the <xref:System.Data.Services.Client.DataServiceContext> class to maintain state on the client between interactions with the data service in order to support features such as change management.</span></span> <span data-ttu-id="1040e-106">這個類別也可以管理識別及追蹤變更。</span><span class="sxs-lookup"><span data-stu-id="1040e-106">This class also manages identities and tracks changes.</span></span>  
  
## <a name="merge-options-and-identity-resolution"></a><span data-ttu-id="1040e-107">合併選項和識別解析</span><span class="sxs-lookup"><span data-stu-id="1040e-107">Merge Options and Identity Resolution</span></span>  
 <span data-ttu-id="1040e-108">當執行 <xref:System.Data.Services.Client.DataServiceQuery%601> 時，回應摘要中的實體會具體化成為物件。</span><span class="sxs-lookup"><span data-stu-id="1040e-108">When a <xref:System.Data.Services.Client.DataServiceQuery%601> is executed, the entities in the response feed are materialized into objects.</span></span> <span data-ttu-id="1040e-109">如需詳細資訊，請參閱[物件具體化](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="1040e-109">For more information, see [Object Materialization](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md).</span></span> <span data-ttu-id="1040e-110">回應訊息中的項目具體化成為物件的方式是根據識別解析來執行，而且會取決於執行查詢時所使用的合併選項。</span><span class="sxs-lookup"><span data-stu-id="1040e-110">The way in which entries in a response message are materialized into objects is performed based on identity resolution and depends on the merge option under which the query was executed.</span></span> <span data-ttu-id="1040e-111">如果在單一 <xref:System.Data.Services.Client.DataServiceContext> 的範圍中執行多個查詢或載入要求，則 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] 用戶端只會追蹤具有特定索引鍵值之物件的單一執行個體。</span><span class="sxs-lookup"><span data-stu-id="1040e-111">When multiple queries or load requests are executed in the scope of a single <xref:System.Data.Services.Client.DataServiceContext>, the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client only tracks a single instance of an object that has a specific key value.</span></span> <span data-ttu-id="1040e-112">用來執行識別解析的這個索引鍵會唯一識別實體。</span><span class="sxs-lookup"><span data-stu-id="1040e-112">This key, which is used to perform identity resolution, uniquely identifies an entity.</span></span>  
  
 <span data-ttu-id="1040e-113">根據預設，用戶端只會將回應摘要中的項目具體化成為實體的物件，而這些實體尚未被 <xref:System.Data.Services.Client.DataServiceContext> 所追蹤。</span><span class="sxs-lookup"><span data-stu-id="1040e-113">By default, the client only materializes an entry in the response feed into an object for entities that are not already being tracked by the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1040e-114">這表示，已經在快取中之物件的變更不會遭到覆寫。</span><span class="sxs-lookup"><span data-stu-id="1040e-114">This means that changes to objects already in the cache are not overwritten.</span></span> <span data-ttu-id="1040e-115">這個行為的控制方式，是針對查詢和載入作業指定 <xref:System.Data.Services.Client.MergeOption> 值。</span><span class="sxs-lookup"><span data-stu-id="1040e-115">This behavior is controlled by specifying a <xref:System.Data.Services.Client.MergeOption> value for queries and load operations.</span></span> <span data-ttu-id="1040e-116">這個選項的指定方式是在 <xref:System.Data.Services.Client.DataServiceContext.MergeOption%2A> 上設定 <xref:System.Data.Services.Client.DataServiceContext> 屬性。</span><span class="sxs-lookup"><span data-stu-id="1040e-116">This option is specified by setting the <xref:System.Data.Services.Client.DataServiceContext.MergeOption%2A> property on the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1040e-117">預設的合併選項值是 <xref:System.Data.Services.Client.MergeOption.AppendOnly>。</span><span class="sxs-lookup"><span data-stu-id="1040e-117">The default merge option value is <xref:System.Data.Services.Client.MergeOption.AppendOnly>.</span></span> <span data-ttu-id="1040e-118">這樣只會具體化尚未被追蹤之實體的物件，這表示現有的物件不會遭到覆寫。</span><span class="sxs-lookup"><span data-stu-id="1040e-118">This only materializes objects for entities that are not already being tracked, which means that existing objects are not overwritten.</span></span> <span data-ttu-id="1040e-119">有另一個方式可避免用戶端的物件變更遭到資料服務中的更新所覆寫，就是指定 <xref:System.Data.Services.Client.MergeOption.PreserveChanges>。</span><span class="sxs-lookup"><span data-stu-id="1040e-119">Another way to prevent changes to objects on the client from being overwritten by updates from the data service is to specify <xref:System.Data.Services.Client.MergeOption.PreserveChanges>.</span></span> <span data-ttu-id="1040e-120">當您指定 <xref:System.Data.Services.Client.MergeOption.OverwriteChanges> 時，將會使用回應摘要中項目的最新值來取代用戶端的物件值，即使這些物件已有變更亦然。</span><span class="sxs-lookup"><span data-stu-id="1040e-120">When you specify <xref:System.Data.Services.Client.MergeOption.OverwriteChanges>, values of objects on the client are replaced by the latest values from the entries in the response feed, even if changes have already been made to these objects.</span></span> <span data-ttu-id="1040e-121">當使用 <xref:System.Data.Services.Client.MergeOption.NoTracking> 合併選項時，<xref:System.Data.Services.Client.DataServiceContext> 無法將用戶端物件所做的變更傳送給資料服務。</span><span class="sxs-lookup"><span data-stu-id="1040e-121">When a <xref:System.Data.Services.Client.MergeOption.NoTracking> merge option is used, the <xref:System.Data.Services.Client.DataServiceContext> cannot send changes made on client objects to the data service.</span></span> <span data-ttu-id="1040e-122">使用這個選項時，一定會使用資料服務中的值來覆寫變更。</span><span class="sxs-lookup"><span data-stu-id="1040e-122">With this option, changes are always overwritten with values from the data service.</span></span>  
  
## <a name="managing-concurrency"></a><span data-ttu-id="1040e-123">管理並行存取</span><span class="sxs-lookup"><span data-stu-id="1040e-123">Managing Concurrency</span></span>  
 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="1040e-124">支援開放式並行存取，可讓資料服務偵測更新衝突。</span><span class="sxs-lookup"><span data-stu-id="1040e-124"> supports optimistic concurrency that enables the data service to detect update conflicts.</span></span> <span data-ttu-id="1040e-125">可以透過一種方式來設定資料服務提供者，讓資料服務使用並行語彙基元來檢查實體的變更。</span><span class="sxs-lookup"><span data-stu-id="1040e-125">The data service provider can be configured in such a way that the data service checks for changes to entities by using a concurrency token.</span></span> <span data-ttu-id="1040e-126">這個語彙基元包含實體類型的一個或多個屬性，資料服務會驗證這些屬性以判斷資源是否已變更。</span><span class="sxs-lookup"><span data-stu-id="1040e-126">This token includes one or more properties of an entity type that are validated by the data service to determine whether a resource has changed.</span></span> <span data-ttu-id="1040e-127">並行語彙基元，包含在要求與從資料服務回應的 eTag 標頭時，會為您所管理[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]用戶端。</span><span class="sxs-lookup"><span data-stu-id="1040e-127">Concurrency tokens, which are included in the eTag header of requests to and responses from the data service, are managed for you by the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client.</span></span> <span data-ttu-id="1040e-128">如需詳細資訊，請參閱[更新資料服務](../../../../docs/framework/data/wcf/updating-the-data-service-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="1040e-128">For more information, see [Updating the Data Service](../../../../docs/framework/data/wcf/updating-the-data-service-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="1040e-129"><xref:System.Data.Services.Client.DataServiceContext> 會追蹤使用 <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A>、<xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> 和 <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> 或是 <xref:System.Data.Services.Client.DataServiceCollection%601> 所手動提報的物件變更。</span><span class="sxs-lookup"><span data-stu-id="1040e-129">The <xref:System.Data.Services.Client.DataServiceContext> tracks changes made to objects that have been reported manually by using <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A>, <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A>, and <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A>, or by a <xref:System.Data.Services.Client.DataServiceCollection%601>.</span></span> <span data-ttu-id="1040e-130">當呼叫 <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> 方法時，用戶端會將變更傳回資料服務。</span><span class="sxs-lookup"><span data-stu-id="1040e-130">When the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method is called, the client sends changes back to the data service.</span></span> <span data-ttu-id="1040e-131">當用戶端的資料變更與資料服務的變更衝突時，<xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> 會失敗。</span><span class="sxs-lookup"><span data-stu-id="1040e-131"><xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> can fail when data changes in the client conflict with changes in the data service.</span></span> <span data-ttu-id="1040e-132">當發生這個狀況時，您必須再次查詢實體資源，以接收更新資料。</span><span class="sxs-lookup"><span data-stu-id="1040e-132">When this occurs, you must query for the entity resource again to receive the update data.</span></span> <span data-ttu-id="1040e-133">若要覆寫資料服務中的變更，請使用 <xref:System.Data.Services.Client.MergeOption.PreserveChanges> 合併選項執行查詢。</span><span class="sxs-lookup"><span data-stu-id="1040e-133">To overwrite changes in the data service, execute the query using the <xref:System.Data.Services.Client.MergeOption.PreserveChanges> merge option.</span></span> <span data-ttu-id="1040e-134">當您再次呼叫 <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> 時，用戶端所保留的變更會保存到資料服務，前提是尚未針對資料服務中的資源進行其他變更。</span><span class="sxs-lookup"><span data-stu-id="1040e-134">When you call <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> again, the changes preserved on the client are persisted to the data service, as long as other changes have not already been made to the resource in the data service.</span></span>  
  
## <a name="saving-changes"></a><span data-ttu-id="1040e-135">儲存變更</span><span class="sxs-lookup"><span data-stu-id="1040e-135">Saving Changes</span></span>  
 <span data-ttu-id="1040e-136">變更會在 <xref:System.Data.Services.Client.DataServiceContext> 執行個體中追蹤，但是不會立即傳送至伺服器。</span><span class="sxs-lookup"><span data-stu-id="1040e-136">Changes are tracked in the <xref:System.Data.Services.Client.DataServiceContext> instance but not sent to the server immediately.</span></span> <span data-ttu-id="1040e-137">在針對指定的活動完成所需的變更之後，請呼叫 <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A>，將所有變更提交至資料服務。</span><span class="sxs-lookup"><span data-stu-id="1040e-137">After you are finished with the required changes for a specified activity, call <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> to submit all the changes to the data service.</span></span> <span data-ttu-id="1040e-138"><xref:System.Data.Services.Client.DataServiceResponse> 作業完成後，會傳回 <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> 物件。</span><span class="sxs-lookup"><span data-stu-id="1040e-138">A <xref:System.Data.Services.Client.DataServiceResponse> object is returned after the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> operation is complete.</span></span> <span data-ttu-id="1040e-139"><xref:System.Data.Services.Client.DataServiceResponse> 物件包含一連串的 <xref:System.Data.Services.Client.OperationResponse> 物件，其中依序包含一連串的 <xref:System.Data.Services.Client.EntityDescriptor> 或 <xref:System.Data.Services.Client.LinkDescriptor> 執行個體，表示持續性或嘗試性的變更。</span><span class="sxs-lookup"><span data-stu-id="1040e-139">The <xref:System.Data.Services.Client.DataServiceResponse> object includes a sequence of <xref:System.Data.Services.Client.OperationResponse> objects that, in turn, contain a sequence of <xref:System.Data.Services.Client.EntityDescriptor> or <xref:System.Data.Services.Client.LinkDescriptor> instances that represent the changes persisted or attempted.</span></span> <span data-ttu-id="1040e-140">在資料服務中建立或修改實體時，<xref:System.Data.Services.Client.EntityDescriptor> 會包括已更新實體的參考，其中包含任何伺服器產生的屬性值，例如以上範例中產生的 `ProductID` 值。</span><span class="sxs-lookup"><span data-stu-id="1040e-140">When an entity is created or modified in the data service, the <xref:System.Data.Services.Client.EntityDescriptor> includes a reference to the updated entity, including any server-generated property values, such as the generated `ProductID` value in the previous example.</span></span> <span data-ttu-id="1040e-141">用戶端程式庫會自動更新 [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] 物件以便擁有這些新值。</span><span class="sxs-lookup"><span data-stu-id="1040e-141">The client library automatically updates the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] object to have these new values.</span></span>  
  
 <span data-ttu-id="1040e-142">對於成功插入和更新的作業，與作業相關聯的 <xref:System.Data.Services.Client.EntityDescriptor> 或 <xref:System.Data.Services.Client.LinkDescriptor> 物件之狀態屬性會設定為 <xref:System.Data.Services.Client.EntityStates.Unchanged>，而新值則是使用 <xref:System.Data.Services.Client.MergeOption.OverwriteChanges> 來合併。</span><span class="sxs-lookup"><span data-stu-id="1040e-142">For successful insert and update operations, the state property of the <xref:System.Data.Services.Client.EntityDescriptor> or <xref:System.Data.Services.Client.LinkDescriptor> object associated with the operation is set to <xref:System.Data.Services.Client.EntityStates.Unchanged> and the new values are merged by using <xref:System.Data.Services.Client.MergeOption.OverwriteChanges>.</span></span> <span data-ttu-id="1040e-143">當資料服務中的插入、更新或刪除作業失敗時，實體狀態會維持不變，與呼叫 <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> 之前相同，而且 <xref:System.Data.Services.Client.OperationResponse.Error%2A> 的 <xref:System.Data.Services.Client.OperationResponse> 屬性會設定為 <xref:System.Data.Services.Client.DataServiceRequestException>，其中包含與該錯誤有關的資訊。</span><span class="sxs-lookup"><span data-stu-id="1040e-143">When an insert, update, or delete operation fails in the data service, the entity state remains the same as it was before <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> was called, and the <xref:System.Data.Services.Client.OperationResponse.Error%2A> property of the <xref:System.Data.Services.Client.OperationResponse> is set to an <xref:System.Data.Services.Client.DataServiceRequestException> that contains information about the error.</span></span> <span data-ttu-id="1040e-144">如需詳細資訊，請參閱[更新資料服務](../../../../docs/framework/data/wcf/updating-the-data-service-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="1040e-144">For more information, see [Updating the Data Service](../../../../docs/framework/data/wcf/updating-the-data-service-wcf-data-services.md).</span></span>  
  
### <a name="setting-the-http-method-for-updates"></a><span data-ttu-id="1040e-145">設定更新的 HTTP 方法</span><span class="sxs-lookup"><span data-stu-id="1040e-145">Setting the HTTP Method for Updates</span></span>  
 <span data-ttu-id="1040e-146">.NET Framework 用戶端程式庫預設會將更新當做 MERGE 要求，傳送到現有的實體。</span><span class="sxs-lookup"><span data-stu-id="1040e-146">By default, the .NET Framework client library sends updates to existing entities as MERGE requests.</span></span> <span data-ttu-id="1040e-147">MERGE 要求會更新選取的實體屬性，不過在 MERGE 要求中，用戶端永遠會加入所有的屬性 (甚至是尚未變更的屬性)。</span><span class="sxs-lookup"><span data-stu-id="1040e-147">A MERGE request updates selected properties of the entity; however the client always includes all properties in the MERGE request, even properties that have not changed.</span></span> <span data-ttu-id="1040e-148">[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 通訊協定也支援傳送 PUT 要求來更新實體。</span><span class="sxs-lookup"><span data-stu-id="1040e-148">The [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol also supports sending PUT requests to update entities.</span></span> <span data-ttu-id="1040e-149">在 PUT 要求中，現有的實體基本上會從用戶端取代成具有屬性值的新實體執行個體。</span><span class="sxs-lookup"><span data-stu-id="1040e-149">In a PUT request, an existing entity is essentially replaced with a new instance of the entity with property values from the client.</span></span> <span data-ttu-id="1040e-150">若要使用 PUT 要求，請在呼叫 <xref:System.Data.Services.Client.SaveChangesOptions.ReplaceOnUpdate> 時，設定 <xref:System.Data.Services.Client.SaveChangesOptions> 列舉上的 <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> 旗標。</span><span class="sxs-lookup"><span data-stu-id="1040e-150">To use PUT requests, set the <xref:System.Data.Services.Client.SaveChangesOptions.ReplaceOnUpdate> flag on the <xref:System.Data.Services.Client.SaveChangesOptions> enumeration when calling <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1040e-151">當用戶端不知道實體的所有屬性時，PUT 要求與 MERGE 要求的行為將會有所不同。</span><span class="sxs-lookup"><span data-stu-id="1040e-151">A PUT request will behave differently than a MERGE request when the client does not know about all properties of the entity.</span></span> <span data-ttu-id="1040e-152">將實體型別投影到用戶端上的新型別時，可能會發生這個情況。</span><span class="sxs-lookup"><span data-stu-id="1040e-152">This might occur when projecting an entity type into a new type on the client.</span></span> <span data-ttu-id="1040e-153">將新屬性加入至服務資料模型中的實體，而且 <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> 上的 <xref:System.Data.Services.Client.DataServiceContext> 屬性設為 `true` 來忽略此類用戶端對應錯誤時，也可能會發生這個情況。</span><span class="sxs-lookup"><span data-stu-id="1040e-153">It might also occur when new properties have been added to the entity in the service data model and the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property on the <xref:System.Data.Services.Client.DataServiceContext> is set to `true` to ignore such client mapping errors.</span></span> <span data-ttu-id="1040e-154">在這些情況下，PUT 要求會將用戶端不知道的任何屬性重設為其預設值。</span><span class="sxs-lookup"><span data-stu-id="1040e-154">In these cases, a PUT request will reset any properties that are unknown to the client to their default values.</span></span>  
  
### <a name="post-tunneling"></a><span data-ttu-id="1040e-155">POST 通道</span><span class="sxs-lookup"><span data-stu-id="1040e-155">POST Tunneling</span></span>  
 <span data-ttu-id="1040e-156">預設情況下，用戶端程式庫會使用 POST、GET、PUT/MERGE/PATCH 和 DELETE 的對應 HTTP 方法，將建立、讀取、更新和刪除要求傳送給 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 服務。</span><span class="sxs-lookup"><span data-stu-id="1040e-156">By default, the client library sends create, read, update, and delete requests to an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service by using the corresponding HTTP methods of POST, GET, PUT/MERGE/PATCH, and DELETE.</span></span> <span data-ttu-id="1040e-157">這樣做表示支持代表性狀態傳輸 (Representational State Transfer，REST) 的基本原則。</span><span class="sxs-lookup"><span data-stu-id="1040e-157">This upholds the basic principles of Representational State Transfer (REST).</span></span> <span data-ttu-id="1040e-158">不過，並不是所有 Web 伺服器實作都會支援完整的 HTTP 方法集。</span><span class="sxs-lookup"><span data-stu-id="1040e-158">However, not every Web server implementation supports the full set of HTTP methods.</span></span> <span data-ttu-id="1040e-159">在某些情況下，支援的方法可能僅限於 GET 和 POST。</span><span class="sxs-lookup"><span data-stu-id="1040e-159">In some cases, the supported methods might be restricted to just GET and POST.</span></span> <span data-ttu-id="1040e-160">像防火牆這樣的媒介透過某些方法阻擋要求時，就可能發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="1040e-160">This can happen when an intermediary, like a firewall, blocks requests with certain methods.</span></span> <span data-ttu-id="1040e-161">由於 GET 和 POST 方法最常受到支援，[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 會使用 POST 要求來規定任何不受支援之 HTTP 方法的執行方式。</span><span class="sxs-lookup"><span data-stu-id="1040e-161">Because the GET and POST methods are most often supported, [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] prescribes a way to execute any unsupported HTTP methods by using a POST request.</span></span> <span data-ttu-id="1040e-162">又稱為*方法通道*或*POST 通道*，這可讓用戶端傳送 POST 要求，指定在自訂的實際方法`X-HTTP-Method`標頭。</span><span class="sxs-lookup"><span data-stu-id="1040e-162">Known as *method tunneling* or *POST tunneling*, this enables a client to send a POST request with the actual method specified in the custom `X-HTTP-Method` header.</span></span> <span data-ttu-id="1040e-163">若要啟用 POST 通道以傳送要求，請將 <xref:System.Data.Services.Client.DataServiceContext.UsePostTunneling%2A> 執行個體上的 <xref:System.Data.Services.Client.DataServiceContext> 屬性設定為 `true`。</span><span class="sxs-lookup"><span data-stu-id="1040e-163">To enable POST tunneling for requests, set the <xref:System.Data.Services.Client.DataServiceContext.UsePostTunneling%2A> property on the <xref:System.Data.Services.Client.DataServiceContext> instance to `true`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1040e-164">另請參閱</span><span class="sxs-lookup"><span data-stu-id="1040e-164">See Also</span></span>  
 [<span data-ttu-id="1040e-165">WCF Data Services 用戶端程式庫</span><span class="sxs-lookup"><span data-stu-id="1040e-165">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)  
 [<span data-ttu-id="1040e-166">更新資料服務</span><span class="sxs-lookup"><span data-stu-id="1040e-166">Updating the Data Service</span></span>](../../../../docs/framework/data/wcf/updating-the-data-service-wcf-data-services.md)  
 [<span data-ttu-id="1040e-167">非同步作業</span><span class="sxs-lookup"><span data-stu-id="1040e-167">Asynchronous Operations</span></span>](../../../../docs/framework/data/wcf/asynchronous-operations-wcf-data-services.md)  
 [<span data-ttu-id="1040e-168">批次處理作業</span><span class="sxs-lookup"><span data-stu-id="1040e-168">Batching Operations</span></span>](../../../../docs/framework/data/wcf/batching-operations-wcf-data-services.md)
