---
title: WF 中的控制流程活動
ms.date: 03/30/2017
ms.assetid: 6892885b-f7c5-4aea-8f5e-28863fb4ae75
ms.openlocfilehash: bcbb12210af2d0172977dca6f81355031baa043a
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/23/2019
ms.locfileid: "61945908"
---
# <a name="control-flow-activities-in-wf"></a><span data-ttu-id="c8256-102">WF 中的控制流程活動</span><span class="sxs-lookup"><span data-stu-id="c8256-102">Control Flow Activities in WF</span></span>
<span data-ttu-id="c8256-103">[!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] 提供數種活動，可用於控制工作流程內的執行流程。</span><span class="sxs-lookup"><span data-stu-id="c8256-103">The [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] provides several activities for controlling flow of execution within a workflow.</span></span> <span data-ttu-id="c8256-104">這些活動 (例如`Switch`和`If`) 實作類似於程式設計環境，例如視覺效果的流程控制架構C#，而其他資源管理員 (例如`Pick`) 建立新的程式設計架構的模型。</span><span class="sxs-lookup"><span data-stu-id="c8256-104">Some of these activities (such as `Switch` and `If`) implement flow control structures similar to those in programming environments such as Visual C#, while others (such as `Pick`) model new programming structures.</span></span>  
  
 <span data-ttu-id="c8256-105">請注意，雖然 `Parallel` 和 `ParallelForEach` 之類的活動會排定多個同時執行的子活動，但只會使用單一執行緒來進行工作流程。</span><span class="sxs-lookup"><span data-stu-id="c8256-105">Note that while activities such as the `Parallel` and `ParallelForEach` activities schedule multiple child activities for execution simultaneously, only a single thread is used for a workflow.</span></span> <span data-ttu-id="c8256-106">這些活動的每個子活動會循序執行，在先前的活動完成或閒置之前，後續的活動均不會執行。</span><span class="sxs-lookup"><span data-stu-id="c8256-106">Each child activity of these activities executes sequentially and successive activities do not execute until previous activities either complete or go idle.</span></span> <span data-ttu-id="c8256-107">因此，最適合使用這些活動的應用程式即為必須交錯執行數個可能封鎖之活動的應用程式。</span><span class="sxs-lookup"><span data-stu-id="c8256-107">As a result, these activities are most useful for applications in which several potentially blocking activities must execute in an interleaved fashion.</span></span> <span data-ttu-id="c8256-108">如果這些活動中沒有任何子活動閒置，`Parallel` 活動會像 `Sequence` 活動般執行，而 `ParallelForEach` 活動會像 `ForEach` 活動般執行。</span><span class="sxs-lookup"><span data-stu-id="c8256-108">If none of the child activities of these activities go idle, a `Parallel` activity executes just like a `Sequence` activity, and a `ParallelForEach` activity executes just like a `ForEach` activity.</span></span> <span data-ttu-id="c8256-109">然而，如果使用非同步活動 (例如衍生自 <xref:System.Activities.AsyncCodeActivity> 的活動) 或傳訊活動，控制項會轉移至下一個分支，而子活動會等候其訊息被接收，或其非同步工作完成。</span><span class="sxs-lookup"><span data-stu-id="c8256-109">If, however, asynchronous activities (such as activities that derive from <xref:System.Activities.AsyncCodeActivity>) or messaging activities are used, control will pass to the next branch while the child activity waits for its message to be received or its asynchronous work to be completed.</span></span>  
  
## <a name="flow-control-activities"></a><span data-ttu-id="c8256-110">流量控制活動</span><span class="sxs-lookup"><span data-stu-id="c8256-110">Flow control activities</span></span>  
  
|<span data-ttu-id="c8256-111">活動</span><span class="sxs-lookup"><span data-stu-id="c8256-111">Activity</span></span>|<span data-ttu-id="c8256-112">描述</span><span class="sxs-lookup"><span data-stu-id="c8256-112">Description</span></span>|  
|--------------|-----------------|  
|<xref:System.Activities.Statements.DoWhile>|<span data-ttu-id="c8256-113">執行所包含的活動一次，並繼續執行直到條件為 `true` 為止。</span><span class="sxs-lookup"><span data-stu-id="c8256-113">Executes the contained activities once and continues to do so while a condition is `true`.</span></span>|  
|<xref:System.Activities.Statements.ForEach%601>|<span data-ttu-id="c8256-114">針對集合中的每個元素，循序執行內嵌陳述式。</span><span class="sxs-lookup"><span data-stu-id="c8256-114">Executes an embedded statement in sequence for each element in a collection.</span></span> <span data-ttu-id="c8256-115"><xref:System.Activities.Statements.ForEach%601> 與關鍵字 `foreach` 相似，但會當做活動而非語言陳述式來實作。</span><span class="sxs-lookup"><span data-stu-id="c8256-115"><xref:System.Activities.Statements.ForEach%601> is similar to the keyword `foreach`, but is implemented as an activity rather than a language statement.</span></span>|  
|<xref:System.Activities.Statements.If>|<span data-ttu-id="c8256-116">如果條件為 `true` 則執行所包含的活動，如果條件為 <xref:System.Activities.Statements.If.Else%2A>，則可執行包含在 `false` 屬性中的活動。</span><span class="sxs-lookup"><span data-stu-id="c8256-116">Executes contained activities if a condition is `true`, and can execute activities contained in the <xref:System.Activities.Statements.If.Else%2A> property if the condition is `false`.</span></span>|  
|<xref:System.Activities.Statements.Parallel>|<span data-ttu-id="c8256-117">平行執行所包含的活動。</span><span class="sxs-lookup"><span data-stu-id="c8256-117">Executes contained activities in parallel.</span></span>|  
|<xref:System.Activities.Statements.ParallelForEach%601>|<span data-ttu-id="c8256-118">針對集合中的每個項目，平行執行內嵌陳述式。</span><span class="sxs-lookup"><span data-stu-id="c8256-118">Executes an embedded statement in parallel for each element in a collection.</span></span>|  
|<xref:System.Activities.Statements.Pick>|<span data-ttu-id="c8256-119">提供事件架構控制流程模型。</span><span class="sxs-lookup"><span data-stu-id="c8256-119">Provides event-based control flow modeling.</span></span>|  
|<xref:System.Activities.Statements.PickBranch>|<span data-ttu-id="c8256-120">在 <xref:System.Activities.Statements.Pick> 活動中代表潛在的執行路徑。</span><span class="sxs-lookup"><span data-stu-id="c8256-120">Represents a potential path of execution in a <xref:System.Activities.Statements.Pick> activity.</span></span>|  
|<xref:System.Activities.Statements.Sequence>|<span data-ttu-id="c8256-121">循序執行所包含的活動。</span><span class="sxs-lookup"><span data-stu-id="c8256-121">Executes contained activities in sequence.</span></span>|  
|<xref:System.Activities.Statements.Switch%601>|<span data-ttu-id="c8256-122">根據此指定運算式的值，從活動成員中選取要執行的一個選項。</span><span class="sxs-lookup"><span data-stu-id="c8256-122">Selects one choice from a number of activities to execute, based on the value of a given expression.</span></span>|  
|<xref:System.Activities.Statements.While>|<span data-ttu-id="c8256-123">當條件為 `true` 時執行所包含的活動。</span><span class="sxs-lookup"><span data-stu-id="c8256-123">Executes contained activities while a condition is `true`.</span></span>|
