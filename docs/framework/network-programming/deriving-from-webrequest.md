---
title: 衍生自 WebRequest
ms.date: 03/30/2017
helpviewer_keywords:
- WebRequest class, pluggable protocols
- protocol-specific request handler
- sending data, pluggable protocols
- pluggable protocols, class criteria
- Internet, pluggable protocols
- receiving data, pluggable protocols
- protocols, pluggable
ms.assetid: 9810c177-973e-43d7-823c-14960bd625ea
ms.openlocfilehash: 859593c6c53d9f6dc89047efae1c682a6a9873a7
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/10/2018
ms.locfileid: "53147538"
---
# <a name="deriving-from-webrequest"></a><span data-ttu-id="f8299-102">衍生自 WebRequest</span><span class="sxs-lookup"><span data-stu-id="f8299-102">Deriving from WebRequest</span></span>
<span data-ttu-id="f8299-103"><xref:System.Net.WebRequest> 類別是抽象的基底類別，提供基本的方法和屬性以建立特定通訊協定要求，其符合 .NET Framework 插入式通訊協定模型的處理常式。</span><span class="sxs-lookup"><span data-stu-id="f8299-103">The <xref:System.Net.WebRequest> class is an abstract base class that provides the basic methods and properties for creating a protocol-specific request handler that fits the .NET Framework pluggable protocol model.</span></span> <span data-ttu-id="f8299-104">使用 **WebRequest** 類別的應用程式可以使用任何支援的通訊協定要求資料，不需要指定使用的通訊協定。</span><span class="sxs-lookup"><span data-stu-id="f8299-104">Applications that use the **WebRequest** class can request data using any supported protocol without needing to specify the protocol used.</span></span>  
  
 <span data-ttu-id="f8299-105">為使特定通訊協定類別用為插入式通訊協定，必須符合兩個準則：類別必須實作 <xref:System.Net.IWebRequestCreate> 介面，且必須使用 <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType> 方法登錄。</span><span class="sxs-lookup"><span data-stu-id="f8299-105">Two criteria must be met in order for a protocol-specific class to be used as a pluggable protocol: The class must implement the <xref:System.Net.IWebRequestCreate> interface, and it must register with the <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="f8299-106">類別必須覆寫 **WebRequest** 所有的抽象方法和屬性，才能提供插入式介面。</span><span class="sxs-lookup"><span data-stu-id="f8299-106">The class must override all the abstract methods and properties of **WebRequest** to provide the pluggable interface.</span></span>  
  
 <span data-ttu-id="f8299-107">**WebRequest** 執行個體僅供單次使用，如果您想要提出另一項要求，請建立新的 **WebRequest**。</span><span class="sxs-lookup"><span data-stu-id="f8299-107">**WebRequest** instances are intended for one-time use; if you want to make another request, create a new **WebRequest**.</span></span> <span data-ttu-id="f8299-108">**WebRequest** 支援 <xref:System.Runtime.Serialization.ISerializable> 介面，可讓開發人員序列化範本 **WebRequest**，然後重新建構其他要求的範本。</span><span class="sxs-lookup"><span data-stu-id="f8299-108">**WebRequest** supports the <xref:System.Runtime.Serialization.ISerializable> interface to enable developers to serialize a template **WebRequest** and then reconstruct the template for additional requests.</span></span>  
  
## <a name="iwebrequest-create-method"></a><span data-ttu-id="f8299-109">IWebRequest 建立方法</span><span class="sxs-lookup"><span data-stu-id="f8299-109">IWebRequest Create Method</span></span>  
 <span data-ttu-id="f8299-110"><xref:System.Net.IWebRequestCreate.Create%2A> 方法負責初始化特定通訊協定類別的新執行個體。</span><span class="sxs-lookup"><span data-stu-id="f8299-110">The <xref:System.Net.IWebRequestCreate.Create%2A> method is responsible for initializing a new instance of the protocol-specific class.</span></span> <span data-ttu-id="f8299-111">建立新的 **WebRequest** 時，<xref:System.Net.WebRequest.Create%2A?displayProperty=nameWithType> 方法會比對要求的 URI 和以 **RegisterPrefix** 方法登錄的 URI 前置詞。</span><span class="sxs-lookup"><span data-stu-id="f8299-111">When a new **WebRequest** is created, the <xref:System.Net.WebRequest.Create%2A?displayProperty=nameWithType> method matches the requested URI with the URI prefixes registered with the **RegisterPrefix** method.</span></span> <span data-ttu-id="f8299-112">正確特定通訊協定子代的 **Create** 方法，必須傳回能夠執行通訊協定標準要求/回應交易的子代初始化執行個體，不需要修改特定通訊協定的任何欄位。</span><span class="sxs-lookup"><span data-stu-id="f8299-112">The **Create** method of the proper protocol-specific descendant must return an initialized instance of the descendant capable of performing a standard request/response transaction for the protocol without needing any protocol-specific fields modified.</span></span>  
  
## <a name="connectiongroupname-property"></a><span data-ttu-id="f8299-113">ConnectionGroupName 屬性</span><span class="sxs-lookup"><span data-stu-id="f8299-113">ConnectionGroupName Property</span></span>  
 <span data-ttu-id="f8299-114"><xref:System.Net.WebRequest.ConnectionGroupName%2A> 屬性用於命名一組對資源的連線，以便透過單一連線提出多項要求。</span><span class="sxs-lookup"><span data-stu-id="f8299-114">The <xref:System.Net.WebRequest.ConnectionGroupName%2A> property is used to name a group of connections to a resource so that multiple requests can be made over a single connection.</span></span> <span data-ttu-id="f8299-115">若要實作連線共用，您必須使用共用和指派連線的特定通訊協定方法。</span><span class="sxs-lookup"><span data-stu-id="f8299-115">To implement connection-sharing, you must use a protocol-specific method of pooling and assigning connections.</span></span> <span data-ttu-id="f8299-116">例如，提供的 <xref:System.Net.ServicePointManager> 類別會實作 <xref:System.Net.HttpWebRequest> 類別的連線共用。</span><span class="sxs-lookup"><span data-stu-id="f8299-116">For example, the provided <xref:System.Net.ServicePointManager> class implements connection sharing for the <xref:System.Net.HttpWebRequest> class.</span></span> <span data-ttu-id="f8299-117">**ServicePointManager** 類別會建立 <xref:System.Net.ServicePoint>，為每個連線群組提供特定伺服器的連線。</span><span class="sxs-lookup"><span data-stu-id="f8299-117">The **ServicePointManager** class creates a <xref:System.Net.ServicePoint> that provides a connection to a specific server for each connection group.</span></span>  
  
## <a name="contentlength-property"></a><span data-ttu-id="f8299-118">ContentLength 屬性</span><span class="sxs-lookup"><span data-stu-id="f8299-118">ContentLength Property</span></span>  
 <span data-ttu-id="f8299-119"><xref:System.Net.WebRequest.ContentLength%2A> 屬性指定的資料位元組數目，會在上傳資料時傳送到伺服器。</span><span class="sxs-lookup"><span data-stu-id="f8299-119">The <xref:System.Net.WebRequest.ContentLength%2A> property specifies the number of bytes of data that will be sent to the server when uploading data.</span></span>  
  
 <span data-ttu-id="f8299-120">一般必須設定 <xref:System.Net.WebRequest.Method%2A> 屬性，以指出當 **ContentLength** 屬性設定為大於零的值時，上傳正在進行中。</span><span class="sxs-lookup"><span data-stu-id="f8299-120">Typically the <xref:System.Net.WebRequest.Method%2A> property must be set to indicate that an upload is taking place when the **ContentLength** property is set to a value greater than zero.</span></span>  
  
## <a name="contenttype-property"></a><span data-ttu-id="f8299-121">ContentType 屬性</span><span class="sxs-lookup"><span data-stu-id="f8299-121">ContentType Property</span></span>  
 <span data-ttu-id="f8299-122"><xref:System.Net.WebRequest.ContentType%2A> 屬性會提供您的通訊協定要求您傳送至伺服器的任何特殊資訊，以識別您要傳送的內容類型。</span><span class="sxs-lookup"><span data-stu-id="f8299-122">The <xref:System.Net.WebRequest.ContentType%2A> property provides any special information that your protocol requires you to send to the server to identify the type of content that you are sending.</span></span> <span data-ttu-id="f8299-123">這通常是任何上傳資料的 MIME 內容類型。</span><span class="sxs-lookup"><span data-stu-id="f8299-123">Typically this is the MIME content type of any data uploaded.</span></span>  
  
## <a name="credentials-property"></a><span data-ttu-id="f8299-124">Credentials 屬性</span><span class="sxs-lookup"><span data-stu-id="f8299-124">Credentials Property</span></span>  
 <span data-ttu-id="f8299-125"><xref:System.Net.WebRequest.Credentials%2A> 屬性包含向伺服器驗證要求所需要的資訊。</span><span class="sxs-lookup"><span data-stu-id="f8299-125">The <xref:System.Net.WebRequest.Credentials%2A> property contains information needed to authenticate the request with the server.</span></span> <span data-ttu-id="f8299-126">您必須為您的通訊協定實作驗證程序的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="f8299-126">You must implement the details of the authentication process for your protocol.</span></span> <span data-ttu-id="f8299-127"><xref:System.Net.AuthenticationManager> 類別負責驗證要求及提供驗證權杖。</span><span class="sxs-lookup"><span data-stu-id="f8299-127">The <xref:System.Net.AuthenticationManager> class is responsible for authenticating requests and providing an authentication token.</span></span> <span data-ttu-id="f8299-128">提供您通訊協定所用認證的類別，必須實作 <xref:System.Net.ICredentials> 介面。</span><span class="sxs-lookup"><span data-stu-id="f8299-128">The class that provides the credentials used by your protocol must implement the <xref:System.Net.ICredentials> interface.</span></span>  
  
## <a name="headers-property"></a><span data-ttu-id="f8299-129">Headers 屬性</span><span class="sxs-lookup"><span data-stu-id="f8299-129">Headers Property</span></span>  
 <span data-ttu-id="f8299-130"><xref:System.Net.WebRequest.Headers%2A> 屬性包含與要求建立關聯的中繼資料名稱/值組任意集合。</span><span class="sxs-lookup"><span data-stu-id="f8299-130">The <xref:System.Net.WebRequest.Headers%2A> property contains an arbitrary collection of name/value pairs of metadata associated with the request.</span></span> <span data-ttu-id="f8299-131">**Headers** 屬性可以包含可表示為名稱/值組的通訊協定所需要的任何中繼資料。</span><span class="sxs-lookup"><span data-stu-id="f8299-131">Any metadata needed by the protocol that can be expressed as a name/value pair can be included in the **Headers** property.</span></span> <span data-ttu-id="f8299-132">通常必須先設定這項資訊，再呼叫 <xref:System.Net.WebRequest.GetRequestStream%2A> 或 <xref:System.Net.WebRequest.GetResponse%2A> 方法；一旦提出要求，中繼資料即視為唯讀。</span><span class="sxs-lookup"><span data-stu-id="f8299-132">Typically this information must be set before calling the <xref:System.Net.WebRequest.GetRequestStream%2A> or <xref:System.Net.WebRequest.GetResponse%2A> methods; once the request has been made, the metadata is considered read-only.</span></span>  
  
 <span data-ttu-id="f8299-133">您不需要使用 **Headers** 屬性，也能使用標頭中繼資料。</span><span class="sxs-lookup"><span data-stu-id="f8299-133">You are not required to use the **Headers** property to use header metadata.</span></span> <span data-ttu-id="f8299-134">通訊協定特定的中繼資料可以公開為屬性。例如，<xref:System.Net.HttpWebRequest.UserAgent%2A?displayProperty=nameWithType> 屬性會公開 **User-Agent** HTTP 標頭。</span><span class="sxs-lookup"><span data-stu-id="f8299-134">Protocol-specific metadata can be exposed as properties; for example, the <xref:System.Net.HttpWebRequest.UserAgent%2A?displayProperty=nameWithType> property exposes the **User-Agent** HTTP header.</span></span> <span data-ttu-id="f8299-135">當您將標頭中繼資料公開為屬性時，您不應該允許使用 **Headers** 屬性設定相同的屬性。</span><span class="sxs-lookup"><span data-stu-id="f8299-135">When you expose header metadata as a property, you should not allow the same property to be set using the **Headers** property.</span></span>  
  
## <a name="method-property"></a><span data-ttu-id="f8299-136">Method 屬性</span><span class="sxs-lookup"><span data-stu-id="f8299-136">Method Property</span></span>  
 <span data-ttu-id="f8299-137"><xref:System.Net.WebRequest.Method%2A> 屬性包含要求會要求伺服器執行的動詞或動作。</span><span class="sxs-lookup"><span data-stu-id="f8299-137">The <xref:System.Net.WebRequest.Method%2A> property contains the verb or action that the request is asking the server to perform.</span></span> <span data-ttu-id="f8299-138">**Method** 屬性的預設值必須啟用標準的要求/回應動作，不需要設定任何通訊協定特有的屬性。</span><span class="sxs-lookup"><span data-stu-id="f8299-138">The default for the **Method** property must enable a standard request/response action without requiring any protocol-specific properties to be set.</span></span> <span data-ttu-id="f8299-139">例如，<xref:System.Net.HttpWebResponse.Method%2A> 方法預設為 GET，會從網頁伺服器要求資源並傳回回應。</span><span class="sxs-lookup"><span data-stu-id="f8299-139">For example, the <xref:System.Net.HttpWebResponse.Method%2A> method defaults to GET, which requests a resource from a Web server and returns the response.</span></span>  
  
 <span data-ttu-id="f8299-140">當 **Method** 屬性設定為動詞或動作，指出上傳正在進行中時，**ContentLength** 屬性一般必須設定成大於零的值。</span><span class="sxs-lookup"><span data-stu-id="f8299-140">Typically the **ContentLength** property must be set to a value greater than zero when the **Method** property is set to a verb or action that indicates that an upload is taking place.</span></span>  
  
## <a name="preauthenticate-property"></a><span data-ttu-id="f8299-141">PreAuthenticate 屬性</span><span class="sxs-lookup"><span data-stu-id="f8299-141">PreAuthenticate Property</span></span>  
 <span data-ttu-id="f8299-142">應用程式設定 <xref:System.Net.WebRequest.PreAuthenticate%2A> 屬性，指出驗證資訊應該隨初始要求一起傳送，而不是等待驗證挑戰。</span><span class="sxs-lookup"><span data-stu-id="f8299-142">Applications set the <xref:System.Net.WebRequest.PreAuthenticate%2A> property to indicate that authentication information should be sent with the initial request rather than waiting for an authentication challenge.</span></span> <span data-ttu-id="f8299-143">只有當通訊協定支援隨初始要求一起傳送驗證認證時，**PreAuthenticate** 屬性才有意義。</span><span class="sxs-lookup"><span data-stu-id="f8299-143">The **PreAuthenticate** property is only meaningful if the protocol supports authentication credentials sent with the initial request.</span></span>  
  
## <a name="proxy-property"></a><span data-ttu-id="f8299-144">Proxy 屬性</span><span class="sxs-lookup"><span data-stu-id="f8299-144">Proxy Property</span></span>  
 <span data-ttu-id="f8299-145"><xref:System.Net.WebRequest.Proxy%2A> 屬性包含存取要求資源所使用的 <xref:System.Net.IWebProxy> 介面。</span><span class="sxs-lookup"><span data-stu-id="f8299-145">The <xref:System.Net.WebRequest.Proxy%2A> property contains an <xref:System.Net.IWebProxy> interface that is used to access the requested resource.</span></span> <span data-ttu-id="f8299-146">只有當通訊協定支援 Proxy 的要求時，**Proxy** 屬性才有意義。</span><span class="sxs-lookup"><span data-stu-id="f8299-146">The **Proxy** property is meaningful only if your protocol supports proxied requests.</span></span> <span data-ttu-id="f8299-147">如果您的通訊協定要求，您就必須設定預設的 Proxy。</span><span class="sxs-lookup"><span data-stu-id="f8299-147">You must set the default proxy if one is required by your protocol.</span></span>  
  
 <span data-ttu-id="f8299-148">在某些環境中，例如公司的防火牆後端，您的通訊協定可能要求使用 Proxy。</span><span class="sxs-lookup"><span data-stu-id="f8299-148">In some environments, such as behind a corporate firewall, your protocol might be required to use a proxy.</span></span> <span data-ttu-id="f8299-149">在此情況下，您必須實作 **IWebProxy** 介面來建立適用於您通訊協定的 proxy 類別。</span><span class="sxs-lookup"><span data-stu-id="f8299-149">In that case, you must implement the **IWebProxy** interface to create a proxy class that will work for your protocol.</span></span>  
  
## <a name="requesturi-property"></a><span data-ttu-id="f8299-150">RequestUri 屬性</span><span class="sxs-lookup"><span data-stu-id="f8299-150">RequestUri Property</span></span>  
 <span data-ttu-id="f8299-151"><xref:System.Net.WebRequest.RequestUri%2A> 屬性包含的 URI 已傳遞至 **WebRequest.Create** 方法。</span><span class="sxs-lookup"><span data-stu-id="f8299-151">The <xref:System.Net.WebRequest.RequestUri%2A> property contains the URI that was passed to the **WebRequest.Create** method.</span></span> <span data-ttu-id="f8299-152">它是唯讀的，且一旦建立 **WebRequest** 即無法變更。</span><span class="sxs-lookup"><span data-stu-id="f8299-152">It is read-only and cannot be changed once the **WebRequest** has been created.</span></span> <span data-ttu-id="f8299-153">如果您的通訊協定支援重新導向，回應可能來自不同 URI 所識別的資源。</span><span class="sxs-lookup"><span data-stu-id="f8299-153">If your protocol supports redirection, the response can come from a resource identified by a different URI.</span></span> <span data-ttu-id="f8299-154">如果您需要提供對所回應 URI 的存取權，即必須提供包含該 URI 的額外屬性。</span><span class="sxs-lookup"><span data-stu-id="f8299-154">If you need to provide access to the URI that responded, you must provide an additional property containing that URI.</span></span>  
  
## <a name="timeout-property"></a><span data-ttu-id="f8299-155">Timeout 屬性</span><span class="sxs-lookup"><span data-stu-id="f8299-155">Timeout Property</span></span>  
 <span data-ttu-id="f8299-156"><xref:System.Net.WebRequest.Timeout%2A> 屬性包含要求逾時及擲回例外狀況所需等候的時間長度，以毫秒為單位。</span><span class="sxs-lookup"><span data-stu-id="f8299-156">The <xref:System.Net.WebRequest.Timeout%2A> property contains the length of time, in milliseconds, to wait before the request times out and throws an exception.</span></span> <span data-ttu-id="f8299-157">**Timeout** 僅適用於以 <xref:System.Net.WebRequest.GetResponse%2A> 方法提出的同步要求，非同步要求必須使用 <xref:System.Net.WebRequest.Abort%2A> 方法來取消暫止的要求。</span><span class="sxs-lookup"><span data-stu-id="f8299-157">**Timeout** applies only to synchronous requests made with the <xref:System.Net.WebRequest.GetResponse%2A> method; asynchronous requests must use the <xref:System.Net.WebRequest.Abort%2A> method to cancel a pending request.</span></span>  
  
 <span data-ttu-id="f8299-158">只有當特定通訊協定類別實作逾時處理序時，設定 **Timeout** 屬性才有意義。</span><span class="sxs-lookup"><span data-stu-id="f8299-158">Setting the **Timeout** property is meaningful only if the protocol-specific class implements a time-out process.</span></span>  
  
## <a name="abort-method"></a><span data-ttu-id="f8299-159">Abort 方法</span><span class="sxs-lookup"><span data-stu-id="f8299-159">Abort Method</span></span>  
 <span data-ttu-id="f8299-160"><xref:System.Net.WebRequest.Abort%2A> 方法會取消伺服器的暫止非同步要求。</span><span class="sxs-lookup"><span data-stu-id="f8299-160">The <xref:System.Net.WebRequest.Abort%2A> method cancels a pending asynchronous request to a server.</span></span> <span data-ttu-id="f8299-161">取消要求之後，呼叫 **GetResponse**、**BeginGetResponse**、**EndGetResponse**、**GetRequestStream**、**BeginGetRequestStream** 或 **EndGetRequestStream** 會擲回將 <xref:System.Net.WebException.Status%2A> 屬性設為 <xref:System.Net.WebExceptionStatus> 的 <xref:System.Net.WebException>。</span><span class="sxs-lookup"><span data-stu-id="f8299-161">After the request has been canceled, calling **GetResponse**, **BeginGetResponse**, **EndGetResponse**, **GetRequestStream**, **BeginGetRequestStream**, or **EndGetRequestStream** will throw a <xref:System.Net.WebException> with the <xref:System.Net.WebException.Status%2A> property set to <xref:System.Net.WebExceptionStatus>.</span></span>  
  
## <a name="begingetrequeststream-and-endgetrequeststream-methods"></a><span data-ttu-id="f8299-162">BeginGetRequestStream 和 EndGetRequestStream 方法</span><span class="sxs-lookup"><span data-stu-id="f8299-162">BeginGetRequestStream and EndGetRequestStream Methods</span></span>  
 <span data-ttu-id="f8299-163"><xref:System.Net.WebRequest.BeginGetRequestStream%2A> 方法會啟動資料流的非同步要求，用來將資料上傳到伺服器。</span><span class="sxs-lookup"><span data-stu-id="f8299-163">The <xref:System.Net.WebRequest.BeginGetRequestStream%2A> method starts an asynchronous request for the stream that is used to upload data to the server.</span></span> <span data-ttu-id="f8299-164"><xref:System.Net.WebRequest.EndGetRequestStream%2A> 方法會完成非同步要求，並傳回所要求的資料流。</span><span class="sxs-lookup"><span data-stu-id="f8299-164">The <xref:System.Net.WebRequest.EndGetRequestStream%2A> method completes the asynchronous request and returns the requested stream.</span></span> <span data-ttu-id="f8299-165">這些方法會實作使用標準 .NET Framework 非同步模式的 **GetRequestStream** 方法。</span><span class="sxs-lookup"><span data-stu-id="f8299-165">These methods implement the **GetRequestStream** method using the standard .NET Framework asynchronous pattern.</span></span>  
  
## <a name="begingetresponse-and-endgetresponse-methods"></a><span data-ttu-id="f8299-166">BeginGetResponse 和 EndGetResponse 方法</span><span class="sxs-lookup"><span data-stu-id="f8299-166">BeginGetResponse and EndGetResponse Methods</span></span>  
 <span data-ttu-id="f8299-167"><xref:System.Net.WebRequest.BeginGetResponse%2A> 方法會啟動伺服器的非同步要求。</span><span class="sxs-lookup"><span data-stu-id="f8299-167">The <xref:System.Net.WebRequest.BeginGetResponse%2A> method starts an asynchronous request to a server.</span></span> <span data-ttu-id="f8299-168"><xref:System.Net.WebRequest.EndGetResponse%2A> 方法會完成非同步要求，並傳回所要求的回應。</span><span class="sxs-lookup"><span data-stu-id="f8299-168">The <xref:System.Net.WebRequest.EndGetResponse%2A> method completes the asynchronous request and returns the requested response.</span></span> <span data-ttu-id="f8299-169">這些方法會實作使用標準 .NET Framework 非同步模式的 **GetResponse** 方法。</span><span class="sxs-lookup"><span data-stu-id="f8299-169">These methods implement the **GetResponse** method using the standard .NET Framework asynchronous pattern.</span></span>  
  
## <a name="getrequeststream-method"></a><span data-ttu-id="f8299-170">GetRequestStream 方法</span><span class="sxs-lookup"><span data-stu-id="f8299-170">GetRequestStream Method</span></span>  
 <span data-ttu-id="f8299-171"><xref:System.Net.WebRequest.GetRequestStream%2A> 方法會傳回資料流，用來將資料寫入要求的伺服器。</span><span class="sxs-lookup"><span data-stu-id="f8299-171">The <xref:System.Net.WebRequest.GetRequestStream%2A> method returns a stream that is used to write data to the requested server.</span></span> <span data-ttu-id="f8299-172">傳回的資料流應該是不會搜尋的唯寫資料流，它原來是要寫入伺服器的單向資料流資料。</span><span class="sxs-lookup"><span data-stu-id="f8299-172">The stream returned should be a write-only stream that does not seek; it is intended as a one-way stream of data that is written to the server.</span></span> <span data-ttu-id="f8299-173">資料流針對 <xref:System.IO.Stream.CanRead%2A> 和 <xref:System.IO.Stream.CanSeek%2A> 屬性傳回 false，針對 <xref:System.IO.Stream.CanWrite%2A> 屬性傳回 true。</span><span class="sxs-lookup"><span data-stu-id="f8299-173">The stream returns false for the <xref:System.IO.Stream.CanRead%2A> and <xref:System.IO.Stream.CanSeek%2A> properties and true for the <xref:System.IO.Stream.CanWrite%2A> property.</span></span>  
  
 <span data-ttu-id="f8299-174">**GetRequestStream** 方法通常會開啟伺服器連線，並在傳回資料流之前，先傳送標頭資訊，指出正將該資料傳送到伺服器。</span><span class="sxs-lookup"><span data-stu-id="f8299-174">The **GetRequestStream** method typically opens a connection to the server and, before returning the stream, sends header information that indicates that data is being sent to the server.</span></span> <span data-ttu-id="f8299-175">因為是 **GetRequestStream** 開始的要求，所以通常不允許在呼叫 **GetRequestStream** 之後設定任何 **Header** 屬性或 **ContentLength** 屬性。</span><span class="sxs-lookup"><span data-stu-id="f8299-175">Because **GetRequestStream** begins the request, setting any **Header** properties or the **ContentLength** property is typically not allowed after calling **GetRequestStream**.</span></span>  
  
## <a name="getresponse-method"></a><span data-ttu-id="f8299-176">GetResponse 方法</span><span class="sxs-lookup"><span data-stu-id="f8299-176">GetResponse Method</span></span>  
 <span data-ttu-id="f8299-177"><xref:System.Net.WebRequest.GetResponse%2A> 方法會傳回 <xref:System.Net.WebResponse> 類別的特定通訊協定子代，表示伺服器的回應。</span><span class="sxs-lookup"><span data-stu-id="f8299-177">The <xref:System.Net.WebRequest.GetResponse%2A> method returns a protocol-specific descendant of the <xref:System.Net.WebResponse> class that represents the response from the server.</span></span> <span data-ttu-id="f8299-178">除非 **GetRequestStream** 方法已起始要求，否則 **GetResponse** 方法會建立 **RequestUri** 所識別的資源連線，傳送標頭資訊，指出正在提出的要求類型，然後從資源接收回應。</span><span class="sxs-lookup"><span data-stu-id="f8299-178">Unless the request has already been initiated by the **GetRequestStream** method, the **GetResponse** method creates a connection to the resource identified by **RequestUri**, sends header information indicating the type of request being made, and then receives the response from the resource.</span></span>  
  
 <span data-ttu-id="f8299-179">一旦呼叫了 **GetResponse**，所有屬性都應該視為唯讀。</span><span class="sxs-lookup"><span data-stu-id="f8299-179">Once the **GetResponse** method is called, all properties should be considered read-only.</span></span> <span data-ttu-id="f8299-180">**WebRequest** 執行個體僅供單次使用，如果您想要提出另一項要求，您應該建立新的 **WebRequest**。</span><span class="sxs-lookup"><span data-stu-id="f8299-180">**WebRequest** instances are intended for one-time use; if you want to make another request, you should create a new **WebRequest**.</span></span>  
  
 <span data-ttu-id="f8299-181">**GetResponse** 方法負責建立適當的 **WebResponse** 子代，以包含傳入的回應。</span><span class="sxs-lookup"><span data-stu-id="f8299-181">The **GetResponse** method is responsible for creating an appropriate **WebResponse** descendant to contain the incoming response.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f8299-182">請參閱</span><span class="sxs-lookup"><span data-stu-id="f8299-182">See Also</span></span>  
 <xref:System.Net.WebRequest>  
 <xref:System.Net.HttpWebRequest>  
 <xref:System.Net.FileWebRequest>  
 [<span data-ttu-id="f8299-183">可插式通訊協定程式設計</span><span class="sxs-lookup"><span data-stu-id="f8299-183">Programming Pluggable Protocols</span></span>](../../../docs/framework/network-programming/programming-pluggable-protocols.md)  
 [<span data-ttu-id="f8299-184">衍生自 WebResponse</span><span class="sxs-lookup"><span data-stu-id="f8299-184">Deriving from WebResponse</span></span>](../../../docs/framework/network-programming/deriving-from-webresponse.md)
